---
import { Image } from "astro:assets";
import closeIcon from "@assets/svg/close.svg";

const {
  class: overlayClass = "",
  dialogClass = "",
  closeButton = true,
  closeLabel = "Cerrar",
  closeButtonClass = "",
  closeButtonAttrs = {},
  ...attrs
} = Astro.props;
---
<div
  class={`fixed inset-0 z-50 hidden items-center justify-center bg-black/60 px-4 py-10 ${overlayClass}`.trim()}
  role="dialog"
  aria-modal="true"
  {...attrs}
>
  <div
    class={`relative flex w-full max-w-lg flex-col overflow-hidden rounded-3xl bg-primary text-accent shadow-2xl ${dialogClass}`.trim()}
    role="document"
  >
    {closeButton ? (
      <button
        type="button"
        class={`absolute right-4 top-4 inline-flex h-10 w-10 items-center justify-center rounded-full bg-accent/10 text-accent transition-colors duration-200 hover:bg-accent/20 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-accent ${closeButtonClass}`.trim()}
        aria-label={closeLabel}
        {...closeButtonAttrs}
      >
        <Image src={closeIcon} alt={closeLabel} class="h-5 w-5" />
      </button>
    ) : null}
    <slot />
  </div>
</div>
